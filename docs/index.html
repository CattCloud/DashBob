<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Sistema Financiero</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/lucide@latest"></script>
</head>
<body class="bg-gray-100 font-sans">
  <div class="flex flex-col min-h-screen">
    <!-- Navegación -->
    <nav class="bg-gradient-to-r from-blue-600 to-indigo-700 text-white shadow-lg">
      <div class="max-w-7xl mx-auto px-4 py-4 flex items-center justify-between">
        <div class="text-xl font-bold">Bob Finanzas</div>
        <div class="flex flex-wrap gap-2">
          <button class="tab-btn px-3 py-1 rounded hover:bg-indigo-500" data-tab="dashboard">Dashboard</button>
          <button class="tab-btn px-3 py-1 rounded hover:bg-indigo-500" data-tab="registro">Registrar Transferencia</button>
          <button class="tab-btn px-3 py-1 rounded hover:bg-indigo-500" data-tab="seguimiento">Seguimiento de Fondos</button>
          <button class="tab-btn px-3 py-1 rounded hover:bg-indigo-500" data-tab="reporte">Reporte de Comisiones</button>
        </div>
      </div>
    </nav>

    <main class="flex-1 p-4 sm:p-6 max-w-7xl mx-auto w-full">
      <!-- Dashboard -->
      <section id="dashboard" class="tab-section">
        <h2 class="text-2xl font-semibold mb-4">Resumen Financiero</h2>
        <div class="overflow-x-auto">
          <table class="min-w-full table-auto bg-white rounded-lg shadow text-sm">
            <thead class="bg-blue-100">
              <tr>
                <th class="px-4 py-2 text-left">Periodo</th>
                <th class="px-4 py-2 text-left">Total Transferencias</th>
                <th class="px-4 py-2 text-left">Comisiones</th>
                <th class="px-4 py-2 text-left">Fondos Pendientes</th>
                <th class="px-4 py-2 text-left">Devoluciones</th>
              </tr>
            </thead>
            <tbody contenteditable="true">
              <tr class="border-t">
                <td class="px-4 py-2">Abril 2025</td>
                <td class="px-4 py-2">$120,000</td>
                <td class="px-4 py-2">$12,000</td>
                <td class="px-4 py-2">$8,500</td>
                <td class="px-4 py-2">$1,000</td>
              </tr>
              <tr class="bg-gray-50 border-t">
                <td class="px-4 py-2">Marzo 2025</td>
                <td class="px-4 py-2">$95,000</td>
                <td class="px-4 py-2">$9,500</td>
                <td class="px-4 py-2">$5,200</td>
                <td class="px-4 py-2">$700</td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>

      <!-- Registro -->
      <section id="registro" class="tab-section hidden">
        <h2 class="text-2xl font-semibold mb-4">Nueva Transferencia</h2>
        <form class="grid gap-4 bg-white p-6 rounded shadow">
          <label>Cliente: <select class="w-full border p-2 rounded"><option>Cliente A</option></select></label>
          <label>Monto: <input type="number" class="w-full border p-2 rounded" /></label>
          <label>Fecha de recepción: <input type="date" class="w-full border p-2 rounded" /></label>
          <label>Método de pago: <select class="w-full border p-2 rounded"><option>Transferencia</option></select></label>
          <label>Comprobante: <input type="file" class="w-full border p-2 rounded" /></label>
          <label>Propósito:
            <select class="w-full border p-2 rounded" id="proposito">
              <option value="general">Fondos generales</option>
              <option value="subasta">Subasta específica</option>
            </select>
          </label>
          <label id="campo-subasta" class="hidden">ID de Subasta: <input type="text" class="w-full border p-2 rounded" /></label>
          <label>Notas adicionales: <textarea class="w-full border p-2 rounded"></textarea></label>
          <div class="flex gap-4">
            <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded">Guardar</button>
            <button type="reset" class="bg-gray-300 px-4 py-2 rounded">Cancelar</button>
          </div>
        </form>
      </section>

      <!-- Seguimiento -->
      <section id="seguimiento" class="tab-section hidden">
        <h2 class="text-2xl font-semibold mb-4">Seguimiento de Fondos - ID123</h2>
        <div class="grid md:grid-cols-2 gap-6">
          <div class="bg-white p-4 rounded shadow">
            <p><strong>Estado:</strong> <span contenteditable="true" class="text-green-600">Disponible</span></p>
            <p><strong>Cliente:</strong> <span contenteditable="true">Empresa XYZ</span></p>
            <p><strong>Monto original:</strong> <span contenteditable="true">$15,000</span></p>
            <p><strong>Fecha de recepción:</strong> <span contenteditable="true">2025-04-10</span></p>
          </div>
          <div class="bg-white p-4 rounded shadow">
            <h3 class="font-semibold mb-2">Acciones</h3>
            <button class="bg-indigo-600 text-white px-3 py-2 rounded mb-2 w-full">Asignar a Subasta</button>
            <button class="bg-yellow-500 text-white px-3 py-2 rounded mb-2 w-full">Registrar Gasto</button>
            <button class="bg-red-500 text-white px-3 py-2 rounded mb-2 w-full">Registrar Devolución</button>
            <button class="bg-gray-700 text-white px-3 py-2 rounded w-full">Reasignar</button>
          </div>
        </div>
        <div class="mt-6 bg-white p-4 rounded shadow">
          <h3 class="font-semibold mb-2">Movimientos</h3>
          <table class="w-full table-auto text-sm" contenteditable="true">
            <thead class="bg-blue-100">
              <tr>
                <th class="px-2 py-1 text-left">Fecha</th>
                <th class="px-2 py-1 text-left">Acción</th>
                <th class="px-2 py-1 text-left">Monto</th>
                <th class="px-2 py-1 text-left">Responsable</th>
                <th class="px-2 py-1 text-left">Notas</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="px-2 py-1">2025-04-12</td>
                <td class="px-2 py-1">Asignado</td>
                <td class="px-2 py-1">$10,000</td>
                <td class="px-2 py-1">Admin</td>
                <td class="px-2 py-1">Para subasta 987</td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>

      <!-- Reporte -->
      <section id="reporte" class="tab-section hidden">
        <div class="flex justify-between items-center mb-4">
          <h2 class="text-2xl font-semibold">Reporte de Comisiones</h2>
          <div class="flex items-center gap-4">
            <span class="text-sm text-gray-700">Usuario: <strong>admin</strong></span>
            <button id="logoutBtn" class="bg-red-500 hover:bg-red-600 text-white px-4 py-1 rounded">Logout</button>
          </div>
        </div>
        <div class="overflow-x-auto">
          <table class="min-w-full table-auto bg-white rounded shadow text-sm" contenteditable="true">
            <thead class="bg-blue-100">
              <tr>
                <th class="px-3 py-2">Fecha</th>
                <th class="px-3 py-2">ID Subasta</th>
                <th class="px-3 py-2">Cliente</th>
                <th class="px-3 py-2">Monto</th>
                <th class="px-3 py-2">% Comisión</th>
                <th class="px-3 py-2">Monto Comisión</th>
                <th class="px-3 py-2">Estado</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="px-3 py-2">2025-04-01</td>
                <td class="px-3 py-2">1001</td>
                <td class="px-3 py-2">Cliente A</td>
                <td class="px-3 py-2">$20,000</td>
                <td class="px-3 py-2">10%</td>
                <td class="px-3 py-2">$2,000</td>
                <td class="px-3 py-2">Pagado</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="flex gap-3 mt-4">
          <button onclick="exportToExcel()" class="bg-green-600 text-white px-4 py-2 rounded shadow">Exportar Excel</button>
          <button onclick="generatePDF()" class="bg-blue-600 text-white px-4 py-2 rounded shadow">Generar PDF</button>
          <button onclick="window.print()" class="bg-gray-500 text-white px-4 py-2 rounded shadow">Imprimir</button>
        </div>
      </section>
    </main>

    <div id="toast" class="fixed bottom-4 right-4 bg-green-600 text-white px-4 py-2 rounded shadow hidden">
      <i data-lucide="check-circle" class="inline w-5 h-5 mr-2"></i>
      Transferencia guardada con éxito
    </div>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white text-center py-4">
      © 2025 Bob Subastas
    </footer>
  </div>

  <script>
    // Tabs
    document.querySelectorAll('.tab-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        const tab = btn.dataset.tab;
        document.querySelectorAll('.tab-section').forEach(s => s.classList.add('hidden'));
        document.getElementById(tab).classList.remove('hidden');
      });
    });

    // Campo dinámico
    document.getElementById('proposito').addEventListener('change', function () {
      document.getElementById('campo-subasta').classList.toggle('hidden', this.value !== 'subasta');
    });

    // Toast
    document.querySelector('form').addEventListener('submit', function (e) {
      e.preventDefault();
      const toast = document.getElementById('toast');
      toast.classList.remove('hidden');
      setTimeout(() => toast.classList.add('hidden'), 3000);
    });

    // Carga íconos
    lucide.createIcons();

    // Funciones de exportación (placeholder)
    function exportToExcel() {
      alert("Función de exportación Excel pendiente.");
    }
    function generatePDF() {
      alert("Función de generación PDF pendiente.");
    }
  </script>
</body>
</html>
